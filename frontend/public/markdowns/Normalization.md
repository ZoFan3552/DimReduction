# 归一化（Normalization）、标准化（Standardization）和中心/零均值化（Zero-centered）

## 目录
- [一、概念](#一概念)
  - [1、归一化（Normalization）](#1归一化normalization)
  - [2、标准化（Standardization）](#2标准化standardization)
  - [3、中心化/零均值化（zero-centered）](#3中心化零均值化zero-centered)
- [二、联系和差异](#二联系和差异)
- [三、标准化和归一化的多种方式](#三标准化和归一化的多种方式)
- [四、为什么要归一化/标准化？](#四为什么要归一化标准化)
  - [4.1 数据的量纲不同；数量级差别很大](#41-数据的量纲不同数量级差别很大)
  - [4.2 避免数值问题](#42-避免数值问题)
  - [4.3 平衡各特征的贡献](#43-平衡各特征的贡献)
  - [4.4 加快梯度下降求最优解的速度](#44-加快梯度下降求最优解的速度)
- [五、什么时候用归一化？什么时候用标准化？](#五什么时候用归一化什么时候用标准化)
  - [5.1 归一化、标准化使用场景](#51-归一化标准化使用场景)
  - [5.2 所有情况都应当Standardization或Normalization么](#52-所有情况都应当standardization或normalization么)
- [六、神经网络为什么要进行归一化](#六神经网络为什么要进行归一化)
  - [6.1 数值问题](#61-数值问题)
  - [6.2 求解需要](#62-求解需要)

---

## 一、概念

### 1、归一化（Normalization）
- **定义**：将数据映射到[0,1]或(-1,1)区间
- **公式**：  
  ![归一化公式](https://i-blog.csdnimg.cn/blog_migrate/56292a0d4292460b2fa2e4ddc67f200b.png)
- **特点**：
  - 消除量纲影响
  - 保留权重信息但丢失距离信息
  - 对异常值敏感（依赖最大最小值）

### 2、标准化（Standardization）
- **定义**：将数据转换为均值为0、标准差为1的分布
- **公式**：  
  ![标准化公式](https://i-blog.csdnimg.cn/blog_migrate/d4889dc924b03666ee600b2b163881e0.png)
- **Python实现**：
  ```python
  X -= np.mean(X, axis=0)  # 中心化
  X /= np.std(X, axis=0)   # 标准化

- 特点：
  - 保留数据分布形态
  - 保留距离信息但丢失权重
  - 对异常值鲁棒性更强

### 3、中心化/零均值化（zero-centered）

- **定义**：数据减去均值，使平均值为0
- **与标准化关系**：标准化=中心化+除以标准差

------

## 二、联系和差异

|    对比点    |        归一化         |           标准化            |
| :----------: | :-------------------: | :-------------------------: |
| **输出范围** |     [0,1]或[-1,1]     |           (-∞,+∞)           |
| **保留信息** |         权重          |          样本距离           |
| **适用场景** | 小数据集/固定范围数据 | 涉及距离度量的算法（如KNN） |
| **缩放方式** |   (x-min)/(max-min)   |           (x-μ)/σ           |

------

## 三、标准化和归一化的多种方式

1. **线性归一化**：
   https://i-blog.csdnimg.cn/blog_migrate/475a418334f6f25b6cf098519eb469a4.png
2. **Mean Normalization**：
   https://i-blog.csdnimg.cn/blog_migrate/79ae0d0b1e6145c0026c4604d561f18f.png
3. **Z-score标准化**：
   https://i-blog.csdnimg.cn/blog_migrate/db26274c415c60c8390af2f84f649a89.png

------

## 四、为什么要归一化/标准化？

1. **统一量纲**：消除特征间数量级差异

   > 例如：房间数量(0-10) vs 房间面积(0-1000㎡)

2. **避免数值问题**：防止大数值引发计算溢出

3. **平衡特征贡献**：
   https://i-blog.csdnimg.cn/blog_migrate/da10e6fc35e71548f5c54d248dec386e.png
   *归一化后收敛更快（右图）*

4. **加速模型收敛**：

   - 归一化前损失函数：
     https://i-blog.csdnimg.cn/blog_migrate/b1f1c23ffc76c7d0eefcb11e0ad8a5d4.png
   - 归一化后损失函数：
     https://i-blog.csdnimg.cn/blog_migrate/18a0056ee8a1bafe892f0b5af4a8c894.png

------

## 五、什么时候用归一化？什么时候用标准化？

### 5.1 使用场景建议

- **优先用标准化**：大多数机器学习场景
- **用归一化**：
  - 需要严格限制输出范围时
  - 数据分布稳定（无极端值）
- **例外情况**：
  - 决策树等基于概率的模型不需要
  - 已无量纲差异的数据可不处理

### 5.2 注意事项

> "建议优先使用标准化，仅在对输出有特殊要求时尝试归一化" —— 知乎经验

------

## 六、神经网络为什么要进行归一化

### 6.1 数值问题

激活函数（如tanh）有效区间为[-1.7,1.7]未归一化时可能导致：

```python
# 未归一化时可能出现的问题
421 * 0.00243 != 0.421 * 2.43  # 浮点精度问题
```

### 6.2 训练需求

1. **初始化**：使神经元初始状态有效
2. **梯度**：防止因输入值域过大导致梯度爆炸
3. **学习率**：统一各层参数的更新步长
4. **搜索效率**：避免在参数空间"之字形"搜索

> 扩展阅读：为什么要做特征归一化/标准化？